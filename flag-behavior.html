<script src="iso-639-1_flags.js"></script>
<script>
document.StreamingList = document.StreamingList || {};
/**
 * @polymerBehavior FlagBehavior
 */
document.StreamingList.FlagBehavior = {
  /**
   * Get language name using ISO language code
   * @param  {String} code ISO-639-1 language code
   * @return {String} language name
   */
  getLanguageByLangCode: function (code) {
    if(!code) return;

    code = code.replace(/\-.*$/, '');

    // languages variable from iso-639-1_flags.js
    var filtered = languages.filter(function (data) {
      return data.code === code;
    });

    if (filtered.length < 1 || !filtered[0].flag) {
      console.log('[streaming-list] Flag not found for language code', code, 'please report to upstream opening an issue');
      return null;
    }

    return filtered[0].name;
  },

  /**
   * Get flag classes using ISO language code
   * @param  {String} code ISO-639-1 language code
   * @return {String} classes to be used with flag-icon-css
   */
  getFlagByLangCode: function (code) {
    if(!code) return;

    code = code.replace(/\-.*$/, '');

    // languages variable from iso-639-1_flags.js
    var filtered = languages.filter(function (data) {
      return data.code === code;
    });

    if (filtered.length < 1 || !filtered[0].flag) {
      console.log('[streaming-list] Flag not found for language code', code, 'please report to upstream opening an issue');
      return null;
    }

    return 'flag-icon flag-icon-' + filtered[0].flag;
  },

  /**
   * Get flag classes using language name
   * @param  {String} language language name
   * @return {String} classes to be used with flag-icon-css
   */
  getFlagByLang: function (language) {
    if(!language) return;

    language = language.replace(/\-.*$/, '');

    // languages variable from iso-639-1_flags.js
    var filtered = languages.filter(function (data) {
      return data.name === language;
    });

    if (filtered.length < 1 || !filtered[0].flag) {
      console.log('[streaming-list] Flag not found for language', language, 'please report to upstream opening an issue');
      return null;
    }

    return 'flag-icon flag-icon-' + filtered[0].flag;
  }
}
</script>
